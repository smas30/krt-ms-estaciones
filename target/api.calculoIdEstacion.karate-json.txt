{"failedCount":1,"prefixedPath":"classpath:api\/calculoIdEstacion.feature","packageQualifiedName":"api.calculoIdEstacion","loopIndex":-1,"relativePath":"api\/calculoIdEstacion.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":1774600,"startTime":1756559617132,"endTime":1756559617134,"millis":1.7746,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":290900,"startTime":1756559617132,"endTime":1756559617132,"millis":0.2909,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":36640900,"startTime":1756559617132,"endTime":1756559617169,"millis":36.6409,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":2311720900,"startTime":1756559617178,"endTime":1756559619490,"millis":2311.7209,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-30 09:13:41 a. m.","durationMillis":2300.2874,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":810100,"startTime":1756559617178,"endTime":1756559617179,"millis":0.8101,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":3273900,"startTime":1756559617178,"endTime":1756559617181,"millis":3.2739,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"09:13:37.178 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":4765000,"startTime":1756559617178,"endTime":1756559617183,"millis":4.765,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1265800,"startTime":1756559617196,"endTime":1756559617197,"millis":1.2658,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":550600,"startTime":1756559617196,"endTime":1756559617197,"millis":0.5506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":162400,"startTime":1756559617196,"endTime":1756559617196,"millis":0.1624,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":1872920700,"startTime":1756559617196,"endTime":1756559619069,"millis":1872.9207,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"09:13:37.561 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n09:13:39.064 response time in milliseconds: 1486\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkM3OTRGOURDREQ4QzA4MjhENDYwNENGNTk0N0Q5REZFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTU5NjE4LCJleHAiOjE3NTY1NjMyMTh9.BT_wx3pU2fVVs-xYS8vyNTt6UCgFzppIpqcqPDVm8lPODfDVjwar3C1Q1crZKJoU\"}\n\n"},{"result":{"nanos":23900,"startTime":1756559619064,"endTime":1756559619064,"millis":0.0239,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":16512700,"startTime":1756559619064,"endTime":1756559619081,"millis":16.5127,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":24253900,"startTime":1756559619075,"endTime":1756559619099,"millis":24.2539,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":361044900,"startTime":1756559619112,"endTime":1756559619473,"millis":361.0449,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":704100,"startTime":1756559619475,"endTime":1756559619476,"millis":0.7041,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":13999400,"startTime":1756559619475,"endTime":1756559619489,"millis":13.9994,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"09:13:39.489 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 1.486 s \n"}],"line":11,"description":"","durationMillis":2300.2874,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756559617178,"refId":"[1:11]","endTime":1756559619489,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":596400,"startTime":1756559619491,"endTime":1756559619492,"millis":0.5964,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":2829500,"startTime":1756559619491,"endTime":1756559619494,"millis":2.8295,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":12,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":89500,"startTime":1756559619495,"endTime":1756559619495,"millis":0.0895,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":713200,"startTime":1756559619495,"endTime":1756559619496,"millis":0.7132,"status":"passed"},"step":{"comments":["# 3. DEFINIENDO PARAMETROS DE CONSULTA"],"background":true,"line":15,"prefix":"*","index":7,"text":"def regionId = 1"}},{"result":{"nanos":351000,"startTime":1756559619495,"endTime":1756559619495,"millis":0.351,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"def noRegionId = 5000"}},{"result":{"nanos":439800,"startTime":1756559619495,"endTime":1756559619495,"millis":0.4398,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":844900,"startTime":1756559619495,"endTime":1756559619496,"millis":0.8449,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_calculoId.json')"}},{"result":{"nanos":11098200,"startTime":1756559619495,"endTime":1756559619506,"millis":11.0982,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":7268800,"startTime":1756559619506,"endTime":1756559619513,"millis":7.2688,"status":"passed"},"step":{"line":42,"prefix":"Given","index":0,"text":"url baseUrl + '\/calculo\/id'"}},{"result":{"nanos":659400,"startTime":1756559619506,"endTime":1756559619507,"millis":0.6594,"status":"passed"},"step":{"line":43,"prefix":"And","index":1,"text":"headers headers"}},{"result":{"nanos":339500,"startTime":1756559619506,"endTime":1756559619506,"millis":0.3395,"status":"passed"},"step":{"line":44,"prefix":"And","index":2,"text":"param regionId = noRegionId"}},{"result":{"nanos":2366014700,"startTime":1756559619506,"endTime":1756559621872,"millis":2366.0147,"status":"passed"},"step":{"line":45,"prefix":"When","index":3,"text":"method GET"},"stepLog":"09:13:39.506 request:\n1 > GET http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\/calculo\/id?regionId=5000\n1 > Content-Type: application\/json\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkM3OTRGOURDREQ4QzA4MjhENDYwNENGNTk0N0Q5REZFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTU5NjE4LCJleHAiOjE3NTY1NjMyMTh9.BT_wx3pU2fVVs-xYS8vyNTt6UCgFzppIpqcqPDVm8lPODfDVjwar3C1Q1crZKJoU\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n09:13:41.870 response time in milliseconds: 2364\n1 < 200\n1 < content-length: 43\n1 < content-type: application\/json;charset=UTF-8\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"timestamp\":1756559621875}\n\n"},{"result":{"nanos":13668700,"errorMessage":"status code was: 200, expected: 404, response time in milliseconds: 2364, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\/calculo\/id?regionId=5000, response: \n{\"success\":false,\"timestamp\":1756559621875}\nclasspath:api\/calculoIdEstacion.feature:46","startTime":1756559621881,"endTime":1756559621895,"millis":13.6687,"status":"failed"},"step":{"line":46,"prefix":"Then","index":4,"text":"status 404"},"stepLog":"09:13:41.897 classpath:api\/calculoIdEstacion.feature:46\nThen status 404\nstatus code was: 200, expected: 404, response time in milliseconds: 2364, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\/calculo\/id?regionId=5000, response: \n{\"success\":false,\"timestamp\":1756559621875}\nclasspath:api\/calculoIdEstacion.feature:46\n"},{"result":{"nanos":0,"startTime":1756559621897,"endTime":1756559621897,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":5,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1756559621897,"endTime":1756559621897,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"*","index":6,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1756559621897,"endTime":1756559621897,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"*","index":7,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":0,"startTime":1756559621897,"endTime":1756559621897,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":8,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1756559621897,"endTime":1756559621897,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":9,"text":"print 'Respuesta para region inexistente:', response"}}],"line":41,"description":"","durationMillis":4755.3409,"failed":true,"error":"status code was: 200, expected: 404, response time in milliseconds: 2364, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\/calculo\/id?regionId=5000, response: \n{\"success\":false,\"timestamp\":1756559621875}\nclasspath:api\/calculoIdEstacion.feature:46","tags":["calculoIdEstacion","regionNoExiste"],"executorName":"main","name":"Enviar regionId inexistente y validar respuesta","startTime":1756559617067,"refId":"[2:41]","endTime":1756559621897,"exampleIndex":-1}],"callDepth":0,"name":"Obtener calculo de estacion mediante el endpoint GET \/api\/v1\/estaciones\/calculo\/id","description":"","resultDate":"2025-08-30 09:13:41 a. m.","durationMillis":4755.3409,"passedCount":0}
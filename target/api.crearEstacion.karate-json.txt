{"failedCount":0,"prefixedPath":"classpath:api\/crearEstacion.feature","packageQualifiedName":"api.crearEstacion","loopIndex":-1,"relativePath":"api\/crearEstacion.feature","scenarioResults":[{"sectionIndex":3,"stepResults":[{"result":{"nanos":1471400,"startTime":1756478557051,"endTime":1756478557052,"millis":1.4714,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":349400,"startTime":1756478557055,"endTime":1756478557055,"millis":0.3494,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":31669800,"startTime":1756478557055,"endTime":1756478557087,"millis":31.6698,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":1474391500,"startTime":1756478557087,"endTime":1756478558561,"millis":1474.3915,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-29 10:42:39 a. m.","durationMillis":1461.7874,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":706500,"startTime":1756478557097,"endTime":1756478557098,"millis":0.7065,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":3484600,"startTime":1756478557097,"endTime":1756478557100,"millis":3.4846,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"10:42:37.100 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":5824400,"startTime":1756478557100,"endTime":1756478557106,"millis":5.8244,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1919300,"startTime":1756478557108,"endTime":1756478557110,"millis":1.9193,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":770600,"startTime":1756478557110,"endTime":1756478557111,"millis":0.7706,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":213400,"startTime":1756478557111,"endTime":1756478557111,"millis":0.2134,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":1080045000,"startTime":1756478557111,"endTime":1756478558191,"millis":1080.045,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"10:42:37.373 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:42:38.184 response time in milliseconds: 800\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\"}\n\n"},{"result":{"nanos":44400,"startTime":1756478558184,"endTime":1756478558184,"millis":0.0444,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":36163200,"startTime":1756478558184,"endTime":1756478558220,"millis":36.1632,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":54160800,"startTime":1756478558228,"endTime":1756478558282,"millis":54.1608,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":269935100,"startTime":1756478558276,"endTime":1756478558546,"millis":269.9351,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":838900,"startTime":1756478558544,"endTime":1756478558545,"millis":0.8389,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":7681200,"startTime":1756478558553,"endTime":1756478558561,"millis":7.6812,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"10:42:38.559 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.8 s \n"}],"line":11,"description":"","durationMillis":1461.7874,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756478557097,"refId":"[1:11]","endTime":1756478558559,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":621600,"startTime":1756478558559,"endTime":1756478558560,"millis":0.6216,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":2167800,"startTime":1756478558559,"endTime":1756478558561,"millis":2.1678,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":13,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":82800,"startTime":1756478558559,"endTime":1756478558559,"millis":0.0828,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":1001300,"startTime":1756478558559,"endTime":1756478558560,"millis":1.0013,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"10:42:38.559 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\"\n}\n \n"},{"result":{"nanos":563200,"startTime":1756478558559,"endTime":1756478558560,"millis":0.5632,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"10:42:38.559 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ \n"},{"result":{"nanos":972700,"startTime":1756478558559,"endTime":1756478558560,"millis":0.9727,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":869200,"startTime":1756478558559,"endTime":1756478558560,"millis":0.8692,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')"}},{"result":{"nanos":881400,"startTime":1756478558569,"endTime":1756478558570,"millis":0.8814,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":10863200,"startTime":1756478558569,"endTime":1756478558580,"millis":10.8632,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":12,"text":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')"}},{"result":{"nanos":710000,"startTime":1756478558581,"endTime":1756478558582,"millis":0.71,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":25,"prefix":"*","index":13,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":847500,"startTime":1756478558581,"endTime":1756478558582,"millis":0.8475,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":14,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":1030800,"startTime":1756478558581,"endTime":1756478558582,"millis":1.0308,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":15,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":85100,"startTime":1756478558583,"endTime":1756478558583,"millis":0.0851,"status":"passed"},"step":{"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"line":81,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":58000,"startTime":1756478558583,"endTime":1756478558583,"millis":0.058,"status":"passed"},"step":{"line":82,"prefix":"And","index":1,"text":"request mercadoIdEnCeroRequest"}},{"result":{"nanos":894463900,"startTime":1756478558583,"endTime":1756478559477,"millis":894.4639,"status":"passed"},"step":{"line":83,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:42:38.586 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":0,\"clusterId\":1,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:42:39.477 response time in milliseconds: 888\n1 < 400\n1 < content-length: 302\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=734d6df9d2a531f96603fab754c67099; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=734d6df9d2a531f96603fab754c67099; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"create.request.mercadoId: must be greater than or equal to 1\",\"errors\":[\"ve.com.telefonica.application.resources.StationController_Subclass create.request.mercadoId: must be greater than or equal to 1\"]},\"timestamp\":1756478559290}\n\n"},{"result":{"nanos":18200,"startTime":1756478559477,"endTime":1756478559477,"millis":0.0182,"status":"passed"},"step":{"line":84,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":1515000,"startTime":1756478559477,"endTime":1756478559479,"millis":1.515,"status":"passed"},"step":{"line":85,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":1202800,"startTime":1756478559477,"endTime":1756478559478,"millis":1.2028,"status":"passed"},"step":{"line":86,"prefix":"And","index":5,"text":"match response.data.code == \"400\""}},{"result":{"nanos":3646500,"startTime":1756478559477,"endTime":1756478559481,"millis":3.6465,"status":"passed"},"step":{"line":87,"prefix":"*","index":6,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":16515000,"startTime":1756478559477,"endTime":1756478559494,"millis":16.515,"status":"passed"},"step":{"line":88,"prefix":"*","index":7,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":933700,"startTime":1756478559501,"endTime":1756478559502,"millis":0.9337,"status":"passed"},"step":{"line":89,"prefix":"*","index":8,"text":"match isValid == true"}},{"result":{"nanos":1217100,"startTime":1756478559501,"endTime":1756478559502,"millis":1.2171,"status":"passed"},"step":{"line":90,"prefix":"And","index":9,"text":"print 'Error creando estacion con id de Mercado en 0:', response.data.message"},"stepLog":"10:42:39.501 [print] Error creando estacion con id de Mercado en 0: create.request.mercadoId: must be greater than or equal to 1 \n"},{"result":{"nanos":1092500,"startTime":1756478559501,"endTime":1756478559502,"millis":1.0925,"status":"passed"},"step":{"line":91,"prefix":"And","index":10,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"},"stepLog":"10:42:39.501 [print] === TIEMPO DE RESPUESTA DEL FEATURE === 0.888 s \n"}],"line":79,"description":"","durationMillis":2449.2414,"failed":false,"tags":["crearEstacion","mercadoIdEnCeroRequest"],"executorName":"main","name":"El endpoint debe rechazar cuando se envia un id de mercado en cero","startTime":1756478556994,"refId":"[4:79]","endTime":1756478559506,"exampleIndex":-1}],"callDepth":0,"name":"Crear una nueva estacion mediante el endpoint POST \/estaciones","description":"","resultDate":"2025-08-29 10:42:39 a. m.","durationMillis":2449.2414,"passedCount":1}
{"failedCount":3,"prefixedPath":"classpath:api\/crearEstacion.feature","packageQualifiedName":"api.crearEstacion","loopIndex":-1,"relativePath":"api\/crearEstacion.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1339700,"startTime":1756563876529,"endTime":1756563876530,"millis":1.3397,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":238900,"startTime":1756563876533,"endTime":1756563876533,"millis":0.2389,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":46940600,"startTime":1756563876533,"endTime":1756563876580,"millis":46.9406,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":2336722800,"startTime":1756563876581,"endTime":1756563878918,"millis":2336.7228,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-30 10:24:59 a.Â m.","durationMillis":2325.2532,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2204600,"startTime":1756563876588,"endTime":1756563876590,"millis":2.2046,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":4083300,"startTime":1756563876591,"endTime":1756563876595,"millis":4.0833,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"10:24:36.595 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":6001100,"startTime":1756563876595,"endTime":1756563876601,"millis":6.0011,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":7731700,"startTime":1756563876596,"endTime":1756563876604,"millis":7.7317,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":678200,"startTime":1756563876608,"endTime":1756563876609,"millis":0.6782,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":178900,"startTime":1756563876610,"endTime":1756563876610,"millis":0.1789,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":1871020600,"startTime":1756563876610,"endTime":1756563878481,"millis":1871.0206,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"10:24:36.965 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:38.475 response time in milliseconds: 1494\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\"}\n\n"},{"result":{"nanos":59500,"startTime":1756563878481,"endTime":1756563878481,"millis":0.0595,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":21981400,"startTime":1756563878481,"endTime":1756563878503,"millis":21.9814,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":27509100,"startTime":1756563878503,"endTime":1756563878531,"millis":27.5091,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":371764500,"startTime":1756563878528,"endTime":1756563878900,"millis":371.7645,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":795700,"startTime":1756563878902,"endTime":1756563878903,"millis":0.7957,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":11244600,"startTime":1756563878904,"endTime":1756563878915,"millis":11.2446,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"10:24:38.915 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 1.494 s \n"}],"line":11,"description":"","durationMillis":2325.2532,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756563876587,"refId":"[1:11]","endTime":1756563878915,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":960900,"startTime":1756563878917,"endTime":1756563878918,"millis":0.9609,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":3566100,"startTime":1756563878919,"endTime":1756563878923,"millis":3.5661,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":13,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":129800,"startTime":1756563878923,"endTime":1756563878923,"millis":0.1298,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":1551300,"startTime":1756563878923,"endTime":1756563878925,"millis":1.5513,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"10:24:38.923 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\"\n}\n \n"},{"result":{"nanos":933000,"startTime":1756563878923,"endTime":1756563878924,"millis":0.933,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"10:24:38.925 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2 \n"},{"result":{"nanos":10252600,"startTime":1756563878925,"endTime":1756563878935,"millis":10.2526,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":9577500,"startTime":1756563878934,"endTime":1756563878944,"millis":9.5775,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')"}},{"result":{"nanos":10370900,"startTime":1756563878944,"endTime":1756563878954,"millis":10.3709,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":10024500,"startTime":1756563878951,"endTime":1756563878961,"millis":10.0245,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":12,"text":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')"}},{"result":{"nanos":756200,"startTime":1756563878965,"endTime":1756563878966,"millis":0.7562,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":25,"prefix":"*","index":13,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":13028200,"startTime":1756563878967,"endTime":1756563878980,"millis":13.0282,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":14,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":9746900,"startTime":1756563878980,"endTime":1756563878990,"millis":9.7469,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":15,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":127700,"startTime":1756563878990,"endTime":1756563878990,"millis":0.1277,"status":"passed"},"step":{"comments":["# Este escenario valida que el endpoint cree correctamente una estacion con datos completos y correctos"],"line":32,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":68700,"startTime":1756563878990,"endTime":1756563878990,"millis":0.0687,"status":"passed"},"step":{"line":33,"prefix":"And","index":1,"text":"request estacionValidaRequest"}},{"result":{"nanos":1146019500,"startTime":1756563878990,"endTime":1756563880136,"millis":1146.0195,"status":"passed"},"step":{"line":34,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:24:38.992 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\n1 > Content-Length: 900\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"ESTKRT\",\"nombre\":\"Estacion Central KARATE\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"1000\",\"descripcion\":\"Capacidad maxima de usuarios\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"4G\",\"descripcion\":\"Tecnologia disponible\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Principal\",\"piso\":\"1\",\"numero\":\"123\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Principal\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Secundaria\",\"puntoReferencia\":\"Frente al Parque Central\",\"codigoPostal\":\"1001\",\"ciudad\":\"Ciudad Capital\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion aprobada para operacion KARATE\",\"estatus\":1,\"createdBy\":\"E11011\"}\n\n10:24:40.136 response time in milliseconds: 1141\n1 < 404\n1 < content-length: 195\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\n\n"},{"result":{"nanos":6056500,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 1141, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\nclasspath:api\/crearEstacion.feature:35","startTime":1756563880136,"endTime":1756563880142,"millis":6.0565,"status":"failed"},"step":{"line":35,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"10:24:40.140 classpath:api\/crearEstacion.feature:35\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 1141, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\nclasspath:api\/crearEstacion.feature:35\n"},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":4,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":5,"text":"match response.data.codigo == estacionValidaRequest.codigo"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":6,"text":"match response.data.nombre == estacionValidaRequest.nombre"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"*","index":7,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":8,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":9,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":10,"text":"print 'Estacion creada exitosamente:', response"}},{"result":{"nanos":0,"startTime":1756563880140,"endTime":1756563880140,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":11,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"}}],"line":30,"description":"","durationMillis":3608.4123,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 1141, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\nclasspath:api\/crearEstacion.feature:35","tags":["estacionValida","crearEstacion"],"executorName":"main","name":"Crear estacion con datos validos","startTime":1756563876453,"refId":"[1:30]","endTime":1756563880140,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":313900,"startTime":1756563880154,"endTime":1756563880154,"millis":0.3139,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":115800,"startTime":1756563880154,"endTime":1756563880154,"millis":0.1158,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":914700,"startTime":1756563880154,"endTime":1756563880155,"millis":0.9147,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":495494400,"startTime":1756563880156,"endTime":1756563880651,"millis":495.4944,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-30 10:24:59 a.Â m.","durationMillis":490.5396,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":71800,"startTime":1756563880156,"endTime":1756563880156,"millis":0.0718,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":788300,"startTime":1756563880156,"endTime":1756563880157,"millis":0.7883,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"10:24:40.156 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":638300,"startTime":1756563880156,"endTime":1756563880157,"millis":0.6383,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1052800,"startTime":1756563880162,"endTime":1756563880163,"millis":1.0528,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":632500,"startTime":1756563880162,"endTime":1756563880163,"millis":0.6325,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":72500,"startTime":1756563880162,"endTime":1756563880162,"millis":0.0725,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":481515000,"startTime":1756563880162,"endTime":1756563880644,"millis":481.515,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"10:24:40.162 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:40.644 response time in milliseconds: 482\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\"}\n\n"},{"result":{"nanos":11400,"startTime":1756563880646,"endTime":1756563880646,"millis":0.0114,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":646400,"startTime":1756563880646,"endTime":1756563880647,"millis":0.6464,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":721400,"startTime":1756563880646,"endTime":1756563880647,"millis":0.7214,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":3458000,"startTime":1756563880648,"endTime":1756563880651,"millis":3.458,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":354400,"startTime":1756563880650,"endTime":1756563880650,"millis":0.3544,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":576800,"startTime":1756563880650,"endTime":1756563880651,"millis":0.5768,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"10:24:40.652 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.482 s \n"}],"line":11,"description":"","durationMillis":490.5396,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756563880156,"refId":"[1:11]","endTime":1756563880652,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":203000,"startTime":1756563880652,"endTime":1756563880652,"millis":0.203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":637500,"startTime":1756563880652,"endTime":1756563880653,"millis":0.6375,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":13,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":66500,"startTime":1756563880652,"endTime":1756563880652,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":479200,"startTime":1756563880652,"endTime":1756563880652,"millis":0.4792,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"10:24:40.654 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\"\n}\n \n"},{"result":{"nanos":314000,"startTime":1756563880654,"endTime":1756563880654,"millis":0.314,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"10:24:40.654 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM \n"},{"result":{"nanos":689200,"startTime":1756563880654,"endTime":1756563880655,"millis":0.6892,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":546300,"startTime":1756563880654,"endTime":1756563880655,"millis":0.5463,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')"}},{"result":{"nanos":472900,"startTime":1756563880654,"endTime":1756563880654,"millis":0.4729,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":11357800,"startTime":1756563880654,"endTime":1756563880665,"millis":11.3578,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":12,"text":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')"}},{"result":{"nanos":732100,"startTime":1756563880665,"endTime":1756563880666,"millis":0.7321,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":25,"prefix":"*","index":13,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1212700,"startTime":1756563880665,"endTime":1756563880666,"millis":1.2127,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":14,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":676300,"startTime":1756563880669,"endTime":1756563880670,"millis":0.6763,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":15,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":76700,"startTime":1756563880669,"endTime":1756563880669,"millis":0.0767,"status":"passed"},"step":{"comments":["# Este escenario usa un request con campos faltantes como codigo, nombre y direccion"],"line":48,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":58800,"startTime":1756563880669,"endTime":1756563880669,"millis":0.0588,"status":"passed"},"step":{"line":49,"prefix":"And","index":1,"text":"request camposFaltantesRequest"}},{"result":{"nanos":537127100,"startTime":1756563880669,"endTime":1756563881206,"millis":537.1271,"status":"passed"},"step":{"line":50,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:24:40.671 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\n1 > Content-Length: 826\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"\",\"nombre\":null,\"regionId\":null,\"estadoId\":null,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"800\",\"descripcion\":\"Capacidad media\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"LTE\",\"descripcion\":\"Tecnologia intermedia\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Norte\",\"piso\":\"3\",\"numero\":\"456\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Norte\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Este\",\"puntoReferencia\":\"Diagonal al hospital\",\"codigoPostal\":\"1010\",\"ciudad\":\"Ciudad Norte\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion incompleta\",\"estatus\":1,\"createdBy\":\"E33033\"}\n\n10:24:41.205 response time in milliseconds: 534\n1 < 400\n1 < content-length: 882\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=9ebf70f993b47330852a058d80b6f286; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=9ebf70f993b47330852a058d80b6f286; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"create.request.nombre: El nombre de la estaciÃ³n es obligatorio, create.request.codigo: El cÃ³digo de la estaciÃ³n es obligatorio, create.request.regionId: El ID de la regiÃ³n es obligatorio, create.request.estadoId: El ID del estado es obligatorio\",\"errors\":[\"ve.com.telefonica.application.resources.StationController_Subclass create.request.nombre: El nombre de la estaciÃ³n es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.codigo: El cÃ³digo de la estaciÃ³n es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.regionId: El ID de la regiÃ³n es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.estadoId: El ID del estado es obligatorio\"]},\"timestamp\":1756563881215}\n\n"},{"result":{"nanos":20000,"startTime":1756563881205,"endTime":1756563881205,"millis":0.02,"status":"passed"},"step":{"line":51,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":1338100,"startTime":1756563881205,"endTime":1756563881206,"millis":1.3381,"status":"passed"},"step":{"line":52,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":976300,"startTime":1756563881209,"endTime":1756563881210,"millis":0.9763,"status":"passed"},"step":{"line":53,"prefix":"And","index":5,"text":"match response.data.code == \"400\""}},{"result":{"nanos":857800,"startTime":1756563881209,"endTime":1756563881210,"millis":0.8578,"status":"passed"},"step":{"line":54,"prefix":"And","index":6,"text":"match response.data.status == \"BAD_REQUEST\""}},{"result":{"nanos":1633400,"errorMessage":"match failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'create.request.nombre: El nombre de la estaciÃ³n es obligatorio, create.request.codigo: El cÃ³digo de la estaciÃ³n es obligatorio, create.request.regionId: El ID de la regiÃ³n es obligatorio, create.request.estadoId: El ID del estado es obligatorio'\n  'must not be null'\n\nclasspath:api\/crearEstacion.feature:55","startTime":1756563881209,"endTime":1756563881211,"millis":1.6334,"status":"failed"},"step":{"line":55,"prefix":"And","index":7,"text":"match response.data.message contains \"must not be null\""},"stepLog":"10:24:41.212 classpath:api\/crearEstacion.feature:55\nAnd match response.data.message contains \"must not be null\"\nmatch failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'create.request.nombre: El nombre de la estaciÃ³n es obligatorio, create.request.codigo: El cÃ³digo de la estaciÃ³n es obligatorio, create.request.regionId: El ID de la regiÃ³n es obligatorio, create.request.estadoId: El ID del estado es obligatorio'\n  'must not be null'\n\nclasspath:api\/crearEstacion.feature:55\n"},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":8,"text":"match response.data.message contains \"must not be empty\""}},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"*","index":9,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"*","index":10,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"*","index":11,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":12,"text":"print 'Error de validacion de campos faltantes:', response.data.message"}},{"result":{"nanos":0,"startTime":1756563881212,"endTime":1756563881212,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"And","index":13,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"}}],"line":46,"description":"","durationMillis":1056.3145,"failed":true,"error":"match failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'create.request.nombre: El nombre de la estaciÃ³n es obligatorio, create.request.codigo: El cÃ³digo de la estaciÃ³n es obligatorio, create.request.regionId: El ID de la regiÃ³n es obligatorio, create.request.estadoId: El ID del estado es obligatorio'\n  'must not be null'\n\nclasspath:api\/crearEstacion.feature:55","tags":["crearEstacion","estacionCamposFaltantes"],"executorName":"main","name":"El endpoint debe rechazar cuando se envian campos obligatorios vacios o nulos","startTime":1756563880151,"refId":"[2:46]","endTime":1756563881212,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":153500,"startTime":1756563881216,"endTime":1756563881216,"millis":0.1535,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":99300,"startTime":1756563881216,"endTime":1756563881216,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":1201100,"startTime":1756563881216,"endTime":1756563881217,"millis":1.2011,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":497938900,"startTime":1756563881224,"endTime":1756563881722,"millis":497.9389,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-30 10:24:59 a.Â m.","durationMillis":490.3074,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":143000,"startTime":1756563881228,"endTime":1756563881228,"millis":0.143,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":1368000,"startTime":1756563881228,"endTime":1756563881229,"millis":1.368,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"10:24:41.228 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":372100,"startTime":1756563881228,"endTime":1756563881228,"millis":0.3721,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1178000,"startTime":1756563881228,"endTime":1756563881229,"millis":1.178,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":712800,"startTime":1756563881228,"endTime":1756563881229,"millis":0.7128,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":78200,"startTime":1756563881228,"endTime":1756563881228,"millis":0.0782,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":480129200,"startTime":1756563881228,"endTime":1756563881708,"millis":480.1292,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"10:24:41.236 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:41.707 response time in milliseconds: 471\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\"}\n\n"},{"result":{"nanos":9900,"startTime":1756563881707,"endTime":1756563881707,"millis":0.0099,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":698400,"startTime":1756563881707,"endTime":1756563881708,"millis":0.6984,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":843500,"startTime":1756563881707,"endTime":1756563881708,"millis":0.8435,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":3642400,"startTime":1756563881717,"endTime":1756563881721,"millis":3.6424,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":404200,"startTime":1756563881721,"endTime":1756563881721,"millis":0.4042,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":727700,"startTime":1756563881721,"endTime":1756563881722,"millis":0.7277,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"10:24:41.721 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.471 s \n"}],"line":11,"description":"","durationMillis":490.3074,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756563881228,"refId":"[1:11]","endTime":1756563881721,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":363100,"startTime":1756563881721,"endTime":1756563881721,"millis":0.3631,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":564700,"startTime":1756563881721,"endTime":1756563881722,"millis":0.5647,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":13,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":40900,"startTime":1756563881723,"endTime":1756563881723,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":613000,"startTime":1756563881723,"endTime":1756563881724,"millis":0.613,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"10:24:41.724 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\"\n}\n \n"},{"result":{"nanos":554000,"startTime":1756563881724,"endTime":1756563881725,"millis":0.554,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"10:24:41.724 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC \n"},{"result":{"nanos":839600,"startTime":1756563881724,"endTime":1756563881725,"millis":0.8396,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":793800,"startTime":1756563881724,"endTime":1756563881725,"millis":0.7938,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')"}},{"result":{"nanos":638500,"startTime":1756563881724,"endTime":1756563881725,"millis":0.6385,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":376500,"startTime":1756563881727,"endTime":1756563881727,"millis":0.3765,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":12,"text":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')"}},{"result":{"nanos":141800,"startTime":1756563881727,"endTime":1756563881727,"millis":0.1418,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":25,"prefix":"*","index":13,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":235700,"startTime":1756563881727,"endTime":1756563881727,"millis":0.2357,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":14,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":218200,"startTime":1756563881727,"endTime":1756563881727,"millis":0.2182,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":15,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":44700,"startTime":1756563881727,"endTime":1756563881727,"millis":0.0447,"status":"passed"},"step":{"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"line":66,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":27900,"startTime":1756563881727,"endTime":1756563881727,"millis":0.0279,"status":"passed"},"step":{"line":67,"prefix":"And","index":1,"text":"request clusterEnCeroRequest"}},{"result":{"nanos":16023483200,"startTime":1756563881727,"endTime":1756563897750,"millis":16023.4832,"status":"passed"},"step":{"line":68,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:24:41.727 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":0,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:24:57.750 response time in milliseconds: 16023\n1 < 400\n1 < content-length: 531\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Multiple exceptions caught:\\n\\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\\n\\t[Exception 1] java.lang.RuntimeException: ConnectException %s\",\"errors\":[\"Multiple exceptions caught:\\n\\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\\n\\t[Exception 1] java.lang.RuntimeException: ConnectException %s\"]},\"timestamp\":1756563897764}\n\n"},{"result":{"nanos":8200,"startTime":1756563897750,"endTime":1756563897750,"millis":0.0082,"status":"passed"},"step":{"line":69,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":289500,"startTime":1756563897750,"endTime":1756563897750,"millis":0.2895,"status":"passed"},"step":{"line":70,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":180400,"startTime":1756563897750,"endTime":1756563897750,"millis":0.1804,"status":"passed"},"step":{"line":71,"prefix":"And","index":5,"text":"match response.data.code == \"400\""}},{"result":{"nanos":1570400,"startTime":1756563897750,"endTime":1756563897752,"millis":1.5704,"status":"passed"},"step":{"line":72,"prefix":"*","index":6,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":6075900,"startTime":1756563897754,"endTime":1756563897760,"millis":6.0759,"status":"passed"},"step":{"line":73,"prefix":"*","index":7,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":202700,"startTime":1756563897755,"endTime":1756563897755,"millis":0.2027,"status":"passed"},"step":{"line":74,"prefix":"*","index":8,"text":"match isValid == true"}},{"result":{"nanos":845900,"startTime":1756563897755,"endTime":1756563897756,"millis":0.8459,"status":"passed"},"step":{"line":75,"prefix":"And","index":9,"text":"print 'Error creando estacion con cluster en 0:', response.data.message"},"stepLog":"10:24:57.755 [print] Error creando estacion con cluster en 0: Multiple exceptions caught:\n\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\n\t[Exception 1] java.lang.RuntimeException: ConnectException %s \n"},{"result":{"nanos":755600,"startTime":1756563897755,"endTime":1756563897756,"millis":0.7556,"status":"passed"},"step":{"line":76,"prefix":"And","index":10,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"},"stepLog":"10:24:57.755 [print] === TIEMPO DE RESPUESTA DEL FEATURE === 16.023 s \n"}],"line":64,"description":"","durationMillis":16538.257,"failed":false,"tags":["clusterEnCeroRequest","crearEstacion"],"executorName":"main","name":"El endpoint debe rechazar cuando se envia un codigo de estacion ya existente","startTime":1756563881216,"refId":"[3:64]","endTime":1756563897755,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":154800,"startTime":1756563897765,"endTime":1756563897765,"millis":0.1548,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure logPrettyResponse = false"}},{"result":{"nanos":100400,"startTime":1756563897767,"endTime":1756563897767,"millis":0.1004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure logPrettyRequest = false"}},{"result":{"nanos":700600,"startTime":1756563897767,"endTime":1756563897768,"millis":0.7006,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":520455800,"startTime":1756563897767,"endTime":1756563898287,"millis":520.4558,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":3,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-30 10:24:59 a.Â m.","durationMillis":516.1108,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":63200,"startTime":1756563897770,"endTime":1756563897770,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":427800,"startTime":1756563897770,"endTime":1756563897770,"millis":0.4278,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"10:24:57.770 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n"},{"result":{"nanos":183200,"startTime":1756563897770,"endTime":1756563897770,"millis":0.1832,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":430300,"startTime":1756563897770,"endTime":1756563897770,"millis":0.4303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":411300,"startTime":1756563897770,"endTime":1756563897770,"millis":0.4113,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":39200,"startTime":1756563897770,"endTime":1756563897770,"millis":0.0392,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":503541200,"startTime":1756563897770,"endTime":1756563898274,"millis":503.5412,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"10:24:57.770 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:58.265 response time in milliseconds: 495\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\"}\n\n"},{"result":{"nanos":18500,"startTime":1756563898276,"endTime":1756563898276,"millis":0.0185,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":681100,"startTime":1756563898276,"endTime":1756563898277,"millis":0.6811,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":807300,"startTime":1756563898276,"endTime":1756563898277,"millis":0.8073,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":7372600,"startTime":1756563898276,"endTime":1756563898283,"millis":7.3726,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":612900,"startTime":1756563898276,"endTime":1756563898277,"millis":0.6129,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":1522200,"startTime":1756563898276,"endTime":1756563898278,"millis":1.5222,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"10:24:58.276 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.495 s \n"}],"line":11,"description":"","durationMillis":516.1108,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1756563897770,"refId":"[1:11]","endTime":1756563898276,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":360500,"startTime":1756563898276,"endTime":1756563898276,"millis":0.3605,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":4,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":703200,"startTime":1756563898276,"endTime":1756563898277,"millis":0.7032,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":13,"prefix":"*","index":5,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":103900,"startTime":1756563898276,"endTime":1756563898276,"millis":0.1039,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"configure headers = headers"}},{"result":{"nanos":885400,"startTime":1756563898276,"endTime":1756563898277,"millis":0.8854,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"10:24:58.276 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\"\n}\n \n"},{"result":{"nanos":464300,"startTime":1756563898276,"endTime":1756563898276,"millis":0.4643,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"10:24:58.276 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq \n"},{"result":{"nanos":1765800,"startTime":1756563898276,"endTime":1756563898278,"millis":1.7658,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":19,"prefix":"*","index":9,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":1629500,"startTime":1756563898292,"endTime":1756563898294,"millis":1.6295,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":10,"text":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')"}},{"result":{"nanos":1567800,"startTime":1756563898294,"endTime":1756563898296,"millis":1.5678,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":11,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":1390000,"startTime":1756563898296,"endTime":1756563898297,"millis":1.39,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":12,"text":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')"}},{"result":{"nanos":253500,"startTime":1756563898298,"endTime":1756563898298,"millis":0.2535,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":25,"prefix":"*","index":13,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":393000,"startTime":1756563898298,"endTime":1756563898298,"millis":0.393,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":14,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":352400,"startTime":1756563898298,"endTime":1756563898298,"millis":0.3524,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":15,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":50500,"startTime":1756563898298,"endTime":1756563898298,"millis":0.0505,"status":"passed"},"step":{"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"line":81,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":28100,"startTime":1756563898298,"endTime":1756563898298,"millis":0.0281,"status":"passed"},"step":{"line":82,"prefix":"And","index":1,"text":"request mercadoIdEnCeroRequest"}},{"result":{"nanos":1007130800,"startTime":1756563898298,"endTime":1756563899305,"millis":1007.1308,"status":"passed"},"step":{"line":83,"prefix":"When","index":2,"text":"method POST"},"stepLog":"10:24:58.298 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":0,\"clusterId\":1,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:24:59.300 response time in milliseconds: 1002\n1 < 404\n1 < content-length: 195\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\n\n"},{"result":{"nanos":52200,"errorMessage":"status code was: 404, expected: 400, response time in milliseconds: 1002, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\nclasspath:api\/crearEstacion.feature:84","startTime":1756563899300,"endTime":1756563899300,"millis":0.0522,"status":"failed"},"step":{"line":84,"prefix":"Then","index":3,"text":"status 400"},"stepLog":"10:24:59.300 classpath:api\/crearEstacion.feature:84\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 1002, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\nclasspath:api\/crearEstacion.feature:84\n"},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":5,"text":"match response.data.code == \"400\""}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"*","index":6,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"*","index":7,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"*","index":8,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":9,"text":"print 'Error creando estacion con id de Mercado en 0:', response.data.message"}},{"result":{"nanos":0,"startTime":1756563899307,"endTime":1756563899307,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"And","index":10,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"}}],"line":79,"description":"","durationMillis":1538.5425,"failed":true,"error":"status code was: 404, expected: 400, response time in milliseconds: 1002, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\nclasspath:api\/crearEstacion.feature:84","tags":["crearEstacion","mercadoIdEnCeroRequest"],"executorName":"main","name":"El endpoint debe rechazar cuando se envia un id de mercado en cero","startTime":1756563897765,"refId":"[4:79]","endTime":1756563899307,"exampleIndex":-1}],"callDepth":0,"name":"Crear una nueva estacion mediante el endpoint POST \/estaciones","description":"","resultDate":"2025-08-30 10:24:59 a.Â m.","durationMillis":22741.5263,"passedCount":1}
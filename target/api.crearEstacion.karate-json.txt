{"failedCount":2,"prefixedPath":"classpath:api\/crearEstacion.feature","packageQualifiedName":"api.crearEstacion","loopIndex":-1,"relativePath":"api\/crearEstacion.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":57480000,"startTime":1755555848089,"endTime":1755555848146,"millis":57.48,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":1439658900,"startTime":1755555848144,"endTime":1755555849584,"millis":1439.6589,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-18 06:24:10 p. m.","durationMillis":1424.1232,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":968000,"startTime":1755555848160,"endTime":1755555848161,"millis":0.968,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":5516300,"startTime":1755555848160,"endTime":1755555848166,"millis":5.5163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"18:24:08.163 [print] http:\/\/10.161.169.27:8511\/intraLogin \n"},{"result":{"nanos":6458100,"startTime":1755555848163,"endTime":1755555848169,"millis":6.4581,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":2253300,"startTime":1755555848174,"endTime":1755555848176,"millis":2.2533,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":1272600,"startTime":1755555848176,"endTime":1755555848177,"millis":1.2726,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":434300,"startTime":1755555848178,"endTime":1755555848178,"millis":0.4343,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":842942200,"startTime":1755555848178,"endTime":1755555849021,"millis":842.9422,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"18:24:08.777 request:\n1 > POST http:\/\/10.161.169.27:8511\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: 10.161.169.27:8511\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n18:24:09.015 response time in milliseconds: 232\n1 < 200\n1 < Content-Type: application\/json\n1 < content-length: 326\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkUxNzgyRDdBQjEyQkQyRUIyN0U3MDQ3RDczNkI2QjI1Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ4LCJleHAiOjE3NTU1NTk0NDh9.9uHF6XW7KmdOmw2046M0xgTGmpmisGO7GTNoT3Q5fvvdnfvOG3FbZGLxrnXzUQKO\"}\n\n"},{"result":{"nanos":37800,"startTime":1755555849022,"endTime":1755555849022,"millis":0.0378,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":14707800,"startTime":1755555849022,"endTime":1755555849037,"millis":14.7078,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":44496200,"startTime":1755555849036,"endTime":1755555849080,"millis":44.4962,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":487528700,"startTime":1755555849080,"endTime":1755555849568,"millis":487.5287,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":1410700,"startTime":1755555849569,"endTime":1755555849570,"millis":1.4107,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":16097200,"startTime":1755555849571,"endTime":1755555849587,"millis":16.0972,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"18:24:09.586 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.232 s \n"}],"line":11,"description":"","durationMillis":1424.1232,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1755555848158,"refId":"[1:11]","endTime":1755555849586,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":947400,"startTime":1755555849589,"endTime":1755555849590,"millis":0.9474,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":4202800,"startTime":1755555849590,"endTime":1755555849594,"millis":4.2028,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":11,"prefix":"*","index":3,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":206100,"startTime":1755555849595,"endTime":1755555849595,"millis":0.2061,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"configure headers = headers"}},{"result":{"nanos":1804500,"startTime":1755555849595,"endTime":1755555849597,"millis":1.8045,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"18:24:09.597 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkUxNzgyRDdBQjEyQkQyRUIyN0U3MDQ3RDczNkI2QjI1Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ4LCJleHAiOjE3NTU1NTk0NDh9.9uHF6XW7KmdOmw2046M0xgTGmpmisGO7GTNoT3Q5fvvdnfvOG3FbZGLxrnXzUQKO\"\n}\n \n"},{"result":{"nanos":1050400,"startTime":1755555849597,"endTime":1755555849598,"millis":1.0504,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"18:24:09.597 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkUxNzgyRDdBQjEyQkQyRUIyN0U3MDQ3RDczNkI2QjI1Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ4LCJleHAiOjE3NTU1NTk0NDh9.9uHF6XW7KmdOmw2046M0xgTGmpmisGO7GTNoT3Q5fvvdnfvOG3FbZGLxrnXzUQKO \n"},{"result":{"nanos":2306800,"startTime":1755555849597,"endTime":1755555849599,"millis":2.3068,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":17,"prefix":"*","index":7,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":2084900,"startTime":1755555849600,"endTime":1755555849602,"millis":2.0849,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":8,"text":"def duplicadoCodigoRequest = read('classpath:JsonRequest\/duplicadoCodigoRequest.json')"}},{"result":{"nanos":1992600,"startTime":1755555849602,"endTime":1755555849604,"millis":1.9926,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":9,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":1026100,"startTime":1755555849604,"endTime":1755555849605,"millis":1.0261,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":22,"prefix":"*","index":10,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1713600,"startTime":1755555849605,"endTime":1755555849607,"millis":1.7136,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":11,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":1546300,"startTime":1755555849607,"endTime":1755555849609,"millis":1.5463,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":12,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":157200,"startTime":1755555849609,"endTime":1755555849609,"millis":0.1572,"status":"passed"},"step":{"comments":["# Este escenario valida que el endpoint cree correctamente una estacion con datos completos y correctos"],"line":29,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":139800,"startTime":1755555849609,"endTime":1755555849609,"millis":0.1398,"status":"passed"},"step":{"line":30,"prefix":"And","index":1,"text":"request estacionValidaRequest"}},{"result":{"nanos":139724600,"startTime":1755555849609,"endTime":1755555849749,"millis":139.7246,"status":"passed"},"step":{"line":31,"prefix":"When","index":2,"text":"method POST"},"stepLog":"18:24:09.612 request:\n1 > POST http:\/\/10.161.169.27:8517\/api\/v1\/estaciones\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkUxNzgyRDdBQjEyQkQyRUIyN0U3MDQ3RDczNkI2QjI1Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ4LCJleHAiOjE3NTU1NTk0NDh9.9uHF6XW7KmdOmw2046M0xgTGmpmisGO7GTNoT3Q5fvvdnfvOG3FbZGLxrnXzUQKO\n1 > Content-Length: 900\n1 > Host: 10.161.169.27:8517\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"ESTKRT\",\"nombre\":\"Estacion Central KARATE\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"1000\",\"descripcion\":\"Capacidad maxima de usuarios\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"4G\",\"descripcion\":\"Tecnologia disponible\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Principal\",\"piso\":\"1\",\"numero\":\"123\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Principal\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Secundaria\",\"puntoReferencia\":\"Frente al Parque Central\",\"codigoPostal\":\"1001\",\"ciudad\":\"Ciudad Capital\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion aprobada para operacion KARATE\",\"estatus\":1,\"createdBy\":\"E11011\"}\n\n18:24:09.741 response time in milliseconds: 129\n1 < 400\n1 < content-length: 259\n1 < Content-Type: application\/json\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555849790}\n\n"},{"result":{"nanos":7210400,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 129, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555849790}\nclasspath:api\/crearEstacion.feature:32","startTime":1755555849741,"endTime":1755555849748,"millis":7.2104,"status":"failed"},"step":{"line":32,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"18:24:09.760 classpath:api\/crearEstacion.feature:32\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 129, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555849790}\nclasspath:api\/crearEstacion.feature:32\n"},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":4,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":5,"text":"match response.data.codigo == estacionValidaRequest.codigo"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":6,"text":"match response.data.nombre == estacionValidaRequest.nombre"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":7,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"*","index":8,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":9,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":10,"text":"print 'Estacion creada exitosamente:', response"}},{"result":{"nanos":0,"startTime":1755555849760,"endTime":1755555849760,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":11,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"}}],"line":27,"description":"","durationMillis":1663.2524,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 129, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555849790}\nclasspath:api\/crearEstacion.feature:32","tags":["estacionValida","crearEstacion"],"executorName":"main","name":"Crear estacion con datos validos","startTime":1755555847996,"refId":"[1:27]","endTime":1755555849760,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":2686700,"startTime":1755555849771,"endTime":1755555849774,"millis":2.6867,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":112100700,"startTime":1755555849774,"endTime":1755555849886,"millis":112.1007,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-18 06:24:10 p. m.","durationMillis":105.3108,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":95300,"startTime":1755555849778,"endTime":1755555849778,"millis":0.0953,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":880000,"startTime":1755555849778,"endTime":1755555849779,"millis":0.88,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"18:24:09.778 [print] http:\/\/10.161.169.27:8511\/intraLogin \n"},{"result":{"nanos":638800,"startTime":1755555849778,"endTime":1755555849779,"millis":0.6388,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":1043200,"startTime":1755555849782,"endTime":1755555849783,"millis":1.0432,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":613100,"startTime":1755555849783,"endTime":1755555849784,"millis":0.6131,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":93800,"startTime":1755555849784,"endTime":1755555849784,"millis":0.0938,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":93794800,"startTime":1755555849784,"endTime":1755555849878,"millis":93.7948,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"18:24:09.785 request:\n1 > POST http:\/\/10.161.169.27:8511\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: 10.161.169.27:8511\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n18:24:09.877 response time in milliseconds: 89\n1 < 200\n1 < Content-Type: application\/json\n1 < content-length: 326\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQ3NjY5RDAzQjg1RDQwNzc4OEI5ODNCRURCNUYyNTNEIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ5LCJleHAiOjE3NTU1NTk0NDl9.vpVG0vNkkJqf10BwUNL7Ct8Rk5s3YWEg3WApzSYRtvhINNKoQAJf2P9xZuDWN1WK\"}\n\n"},{"result":{"nanos":10200,"startTime":1755555849877,"endTime":1755555849877,"millis":0.0102,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":416600,"startTime":1755555849877,"endTime":1755555849877,"millis":0.4166,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":436300,"startTime":1755555849877,"endTime":1755555849877,"millis":0.4363,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":5200400,"startTime":1755555849877,"endTime":1755555849882,"millis":5.2004,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":428500,"startTime":1755555849884,"endTime":1755555849884,"millis":0.4285,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":1659800,"startTime":1755555849885,"endTime":1755555849887,"millis":1.6598,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"18:24:09.886 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.089 s \n"}],"line":11,"description":"","durationMillis":105.3108,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1755555849778,"refId":"[1:11]","endTime":1755555849886,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":1877400,"startTime":1755555849886,"endTime":1755555849888,"millis":1.8774,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":864700,"startTime":1755555849889,"endTime":1755555849890,"millis":0.8647,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":11,"prefix":"*","index":3,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":358400,"startTime":1755555849889,"endTime":1755555849889,"millis":0.3584,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"configure headers = headers"}},{"result":{"nanos":723200,"startTime":1755555849889,"endTime":1755555849890,"millis":0.7232,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"18:24:09.889 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQ3NjY5RDAzQjg1RDQwNzc4OEI5ODNCRURCNUYyNTNEIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ5LCJleHAiOjE3NTU1NTk0NDl9.vpVG0vNkkJqf10BwUNL7Ct8Rk5s3YWEg3WApzSYRtvhINNKoQAJf2P9xZuDWN1WK\"\n}\n \n"},{"result":{"nanos":256000,"startTime":1755555849889,"endTime":1755555849889,"millis":0.256,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"18:24:09.889 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQ3NjY5RDAzQjg1RDQwNzc4OEI5ODNCRURCNUYyNTNEIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ5LCJleHAiOjE3NTU1NTk0NDl9.vpVG0vNkkJqf10BwUNL7Ct8Rk5s3YWEg3WApzSYRtvhINNKoQAJf2P9xZuDWN1WK \n"},{"result":{"nanos":724300,"startTime":1755555849889,"endTime":1755555849890,"millis":0.7243,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":17,"prefix":"*","index":7,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":579700,"startTime":1755555849891,"endTime":1755555849892,"millis":0.5797,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":8,"text":"def duplicadoCodigoRequest = read('classpath:JsonRequest\/duplicadoCodigoRequest.json')"}},{"result":{"nanos":563700,"startTime":1755555849891,"endTime":1755555849892,"millis":0.5637,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":9,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":213000,"startTime":1755555849891,"endTime":1755555849891,"millis":0.213,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":22,"prefix":"*","index":10,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":320400,"startTime":1755555849891,"endTime":1755555849891,"millis":0.3204,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":11,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":334200,"startTime":1755555849891,"endTime":1755555849891,"millis":0.3342,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":12,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":101700,"startTime":1755555849891,"endTime":1755555849891,"millis":0.1017,"status":"passed"},"step":{"comments":["# Este escenario usa un request con campos faltantes como codigo, nombre y direccion"],"line":45,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":55300,"startTime":1755555849891,"endTime":1755555849891,"millis":0.0553,"status":"passed"},"step":{"line":46,"prefix":"And","index":1,"text":"request camposFaltantesRequest"}},{"result":{"nanos":130349300,"startTime":1755555849891,"endTime":1755555850021,"millis":130.3493,"status":"passed"},"step":{"line":47,"prefix":"When","index":2,"text":"method POST"},"stepLog":"18:24:09.895 request:\n1 > POST http:\/\/10.161.169.27:8517\/api\/v1\/estaciones\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQ3NjY5RDAzQjg1RDQwNzc4OEI5ODNCRURCNUYyNTNEIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODQ5LCJleHAiOjE3NTU1NTk0NDl9.vpVG0vNkkJqf10BwUNL7Ct8Rk5s3YWEg3WApzSYRtvhINNKoQAJf2P9xZuDWN1WK\n1 > Content-Length: 826\n1 > Host: 10.161.169.27:8517\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"\",\"nombre\":null,\"regionId\":null,\"estadoId\":null,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"800\",\"descripcion\":\"Capacidad media\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"LTE\",\"descripcion\":\"Tecnologia intermedia\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Norte\",\"piso\":\"3\",\"numero\":\"456\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Norte\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Este\",\"puntoReferencia\":\"Diagonal al hospital\",\"codigoPostal\":\"1010\",\"ciudad\":\"Ciudad Norte\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion incompleta\",\"estatus\":1,\"createdBy\":\"E33033\"}\n\n18:24:10.022 response time in milliseconds: 126\n1 < 400\n1 < content-length: 872\n1 < Content-Type: application\/json\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"create.request.estadoId: must not be null, create.request.regionId: must not be null, create.request.nombre: must not be empty, create.request.codigo: must not be empty, create.request.nombre: must not be null\",\"errors\":[\"ve.com.telefonica.application.resources.StationController_Subclass create.request.estadoId: must not be null\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.regionId: must not be null\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.nombre: must not be empty\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.codigo: must not be empty\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.nombre: must not be null\"]},\"timestamp\":1755555850052}\n\n"},{"result":{"nanos":13800,"startTime":1755555850024,"endTime":1755555850024,"millis":0.0138,"status":"passed"},"step":{"line":48,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":1054900,"startTime":1755555850024,"endTime":1755555850025,"millis":1.0549,"status":"passed"},"step":{"line":49,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":895700,"startTime":1755555850026,"endTime":1755555850027,"millis":0.8957,"status":"passed"},"step":{"line":50,"prefix":"And","index":5,"text":"match response.data.code == \"400\""}},{"result":{"nanos":602500,"startTime":1755555850027,"endTime":1755555850028,"millis":0.6025,"status":"passed"},"step":{"line":51,"prefix":"And","index":6,"text":"match response.data.status == \"BAD_REQUEST\""}},{"result":{"nanos":579800,"startTime":1755555850027,"endTime":1755555850028,"millis":0.5798,"status":"passed"},"step":{"line":52,"prefix":"And","index":7,"text":"match response.data.message contains \"must not be null\""}},{"result":{"nanos":407800,"startTime":1755555850028,"endTime":1755555850028,"millis":0.4078,"status":"passed"},"step":{"line":53,"prefix":"And","index":8,"text":"match response.data.message contains \"must not be empty\""}},{"result":{"nanos":3683600,"startTime":1755555850029,"endTime":1755555850033,"millis":3.6836,"status":"passed"},"step":{"line":54,"prefix":"*","index":9,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":12132900,"startTime":1755555850033,"endTime":1755555850045,"millis":12.1329,"status":"passed"},"step":{"line":55,"prefix":"*","index":10,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":419500,"startTime":1755555850045,"endTime":1755555850045,"millis":0.4195,"status":"passed"},"step":{"line":56,"prefix":"*","index":11,"text":"match isValid == true"}},{"result":{"nanos":1202500,"startTime":1755555850045,"endTime":1755555850046,"millis":1.2025,"status":"passed"},"step":{"line":57,"prefix":"And","index":12,"text":"print 'Error de validacion de campos faltantes:', response.data.message"},"stepLog":"18:24:10.046 [print] Error de validacion de campos faltantes: create.request.estadoId: must not be null, create.request.regionId: must not be null, create.request.nombre: must not be empty, create.request.codigo: must not be empty, create.request.nombre: must not be null \n"},{"result":{"nanos":1187700,"startTime":1755555850046,"endTime":1755555850047,"millis":1.1877,"status":"passed"},"step":{"line":58,"prefix":"And","index":13,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"},"stepLog":"18:24:10.047 [print] === TIEMPO DE RESPUESTA DEL FEATURE === 0.126 s \n"}],"line":43,"description":"","durationMillis":274.2894,"failed":false,"tags":["crearEstacion","estacionCamposFaltantes"],"executorName":"main","name":"El endpoint debe rechazar cuando se envian campos obligatorios vacios o nulos","startTime":1755555849767,"refId":"[2:43]","endTime":1755555850047,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":820400,"startTime":1755555850055,"endTime":1755555850056,"millis":0.8204,"status":"passed"},"step":{"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"background":true,"line":6,"prefix":"*","index":0,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":113451100,"startTime":1755555850056,"endTime":1755555850169,"millis":113.4511,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }"},"callResults":[{"prefixedPath":"classpath:api\/loginToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-08-18 06:24:10 p. m.","durationMillis":103.5829,"callArg":{"request":"validBodyRequest"},"failedCount":0,"packageQualifiedName":"api.loginToken","relativePath":"api\/loginToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":109600,"startTime":1755555850063,"endTime":1755555850063,"millis":0.1096,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url loginUrl"}},{"result":{"nanos":594000,"startTime":1755555850063,"endTime":1755555850064,"millis":0.594,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"print loginUrl"},"stepLog":"18:24:10.066 [print] http:\/\/10.161.169.27:8511\/intraLogin \n"},{"result":{"nanos":431700,"startTime":1755555850066,"endTime":1755555850066,"millis":0.4317,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":675100,"startTime":1755555850066,"endTime":1755555850067,"millis":0.6751,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')"}},{"result":{"nanos":623300,"startTime":1755555850067,"endTime":1755555850068,"millis":0.6233,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')"}},{"result":{"nanos":80900,"startTime":1755555850068,"endTime":1755555850068,"millis":0.0809,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"request validBodyRequest"}},{"result":{"nanos":95262100,"startTime":1755555850068,"endTime":1755555850163,"millis":95.2621,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method POST"},"stepLog":"18:24:10.070 request:\n1 > POST http:\/\/10.161.169.27:8511\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: 10.161.169.27:8511\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n18:24:10.160 response time in milliseconds: 90\n1 < 200\n1 < Content-Type: application\/json\n1 < content-length: 326\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjUzOEYyRTc5RDM1MkZENzRBQTI2RjdDOTk5MkYwMTFFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODUwLCJleHAiOjE3NTU1NTk0NTB9.M7Ov6lchdFsU3UYJxy_VuYEMKDnCFPDDyE3YCLxkhjlpeSVDHIey1lvvPqw8InJy\"}\n\n"},{"result":{"nanos":19500,"startTime":1755555850163,"endTime":1755555850163,"millis":0.0195,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":476200,"startTime":1755555850163,"endTime":1755555850163,"millis":0.4762,"status":"passed"},"step":{"comments":["# Validar que la respuesta contenga el campo token"],"line":17,"prefix":"And","index":3,"text":"match response.token == '#string'"}},{"result":{"nanos":631400,"startTime":1755555850164,"endTime":1755555850165,"millis":0.6314,"status":"passed"},"step":{"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"line":20,"prefix":"*","index":4,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":3667300,"startTime":1755555850164,"endTime":1755555850168,"millis":3.6673,"status":"passed"},"step":{"line":21,"prefix":"*","index":5,"text":"def isValid = schemaUtil.isValid(schemaText, responseText)"}},{"result":{"nanos":404200,"startTime":1755555850164,"endTime":1755555850164,"millis":0.4042,"status":"passed"},"step":{"line":22,"prefix":"*","index":6,"text":"match isValid == true"}},{"result":{"nanos":607600,"startTime":1755555850164,"endTime":1755555850165,"millis":0.6076,"status":"passed"},"step":{"comments":["# Tiempo de respuesta"],"line":25,"prefix":"And","index":7,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'"},"stepLog":"18:24:10.170 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.09 s \n"}],"line":11,"description":"","durationMillis":103.5829,"failed":false,"tags":["loginToken"],"executorName":"main","name":"La respuesta del endpoint entrega un token JWT valido","startTime":1755555850063,"refId":"[1:11]","endTime":1755555850170,"exampleIndex":-1}],"name":"Servicio de autenticacion de la gerencia de soporte a la operacion","passedCount":1}]},{"result":{"nanos":280000,"startTime":1755555850170,"endTime":1755555850170,"millis":0.28,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = loginResponse.response.token"}},{"result":{"nanos":571100,"startTime":1755555850170,"endTime":1755555850171,"millis":0.5711,"status":"passed"},"step":{"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"background":true,"line":11,"prefix":"*","index":3,"text":"def headers = headersEstacionesConToken(authToken)"}},{"result":{"nanos":108700,"startTime":1755555850171,"endTime":1755555850171,"millis":0.1087,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"configure headers = headers"}},{"result":{"nanos":768900,"startTime":1755555850171,"endTime":1755555850172,"millis":0.7689,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"print 'HEADERS usados en creacion de estacion:', headers"},"stepLog":"18:24:10.171 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjUzOEYyRTc5RDM1MkZENzRBQTI2RjdDOTk5MkYwMTFFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODUwLCJleHAiOjE3NTU1NTk0NTB9.M7Ov6lchdFsU3UYJxy_VuYEMKDnCFPDDyE3YCLxkhjlpeSVDHIey1lvvPqw8InJy\"\n}\n \n"},{"result":{"nanos":396500,"startTime":1755555850171,"endTime":1755555850171,"millis":0.3965,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"print 'TOKEN obtenido:', authToken"},"stepLog":"18:24:10.171 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjUzOEYyRTc5RDM1MkZENzRBQTI2RjdDOTk5MkYwMTFFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODUwLCJleHAiOjE3NTU1NTk0NTB9.M7Ov6lchdFsU3UYJxy_VuYEMKDnCFPDDyE3YCLxkhjlpeSVDHIey1lvvPqw8InJy \n"},{"result":{"nanos":930700,"startTime":1755555850171,"endTime":1755555850172,"millis":0.9307,"status":"passed"},"step":{"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"background":true,"line":17,"prefix":"*","index":7,"text":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')"}},{"result":{"nanos":760500,"startTime":1755555850173,"endTime":1755555850174,"millis":0.7605,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":8,"text":"def duplicadoCodigoRequest = read('classpath:JsonRequest\/duplicadoCodigoRequest.json')"}},{"result":{"nanos":688300,"startTime":1755555850174,"endTime":1755555850175,"millis":0.6883,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":9,"text":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')"}},{"result":{"nanos":294400,"startTime":1755555850174,"endTime":1755555850174,"millis":0.2944,"status":"passed"},"step":{"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"background":true,"line":22,"prefix":"*","index":10,"text":"def schemaUtil = Java.type('util.JsonSchemaUtil')"}},{"result":{"nanos":586000,"startTime":1755555850174,"endTime":1755555850175,"millis":0.586,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":11,"text":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')"}},{"result":{"nanos":859300,"startTime":1755555850176,"endTime":1755555850177,"millis":0.8593,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":12,"text":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')"}},{"result":{"nanos":216400,"startTime":1755555850176,"endTime":1755555850176,"millis":0.2164,"status":"passed"},"step":{"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"line":63,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":872500,"startTime":1755555850177,"endTime":1755555850178,"millis":0.8725,"status":"passed"},"step":{"line":64,"prefix":"And","index":1,"text":"request duplicadoCodigoRequest"}},{"result":{"nanos":112131400,"startTime":1755555850178,"endTime":1755555850290,"millis":112.1314,"status":"passed"},"step":{"line":65,"prefix":"When","index":2,"text":"method POST"},"stepLog":"18:24:10.180 request:\n1 > POST http:\/\/10.161.169.27:8517\/api\/v1\/estaciones\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjUzOEYyRTc5RDM1MkZENzRBQTI2RjdDOTk5MkYwMTFFIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU1NTU1ODUwLCJleHAiOjE3NTU1NTk0NTB9.M7Ov6lchdFsU3UYJxy_VuYEMKDnCFPDDyE3YCLxkhjlpeSVDHIey1lvvPqw8InJy\n1 > Content-Length: 858\n1 > Host: 10.161.169.27:8517\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"ESTKRT\",\"nombre\":\"Estacion Duplicada KARATE\",\"regionId\":2,\"estadoId\":2,\"municipioId\":2,\"parroquiaId\":2,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"500\",\"descripcion\":\"Capacidad reducida\"},{\"tipo\":\"ENERGIA\",\"valor\":\"SOLAR\",\"descripcion\":\"Fuente alternativa\"}],\"direccion\":{\"conglomerado\":\"OESTE\",\"nombreConglomerado\":\"Centro Empresarial\",\"inmueble\":\"GALPON\",\"nombreInmueble\":\"Modulo C\",\"piso\":\"PB\",\"numero\":\"789\",\"vialidad\":\"CALLE\",\"nombreVialidad\":\"Calle Oeste\",\"vialidad2\":\"AVENIDA\",\"nombreVialidad2\":\"Av. Secundaria\",\"puntoReferencia\":\"Junto al centro logístico\",\"codigoPostal\":\"3003\",\"ciudad\":\"Ciudad Oeste\",\"parroquia\":\"Oeste\",\"municipio\":\"Empresarial\",\"estado\":\"Estado Oeste\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"INDUSTRIAL\"},\"codigoPais\":\"VE\",\"mercadoId\":2,\"clusterId\":2,\"comentAprobacion\":\"Intento duplicado\",\"estatus\":1,\"createdBy\":\"E22022\"}\n\n18:24:10.290 response time in milliseconds: 109\n1 < 400\n1 < content-length: 259\n1 < Content-Type: application\/json\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555850328}\n\n"},{"result":{"nanos":62200,"errorMessage":"status code was: 400, expected: 409, response time in milliseconds: 109, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555850328}\nclasspath:api\/crearEstacion.feature:66","startTime":1755555850290,"endTime":1755555850290,"millis":0.0622,"status":"failed"},"step":{"line":66,"prefix":"Then","index":3,"text":"status 409"},"stepLog":"18:24:10.290 classpath:api\/crearEstacion.feature:66\nThen status 409\nstatus code was: 400, expected: 409, response time in milliseconds: 109, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555850328}\nclasspath:api\/crearEstacion.feature:66\n"},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":67,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"And","index":5,"text":"match response.data.code == \"409\""}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"And","index":6,"text":"match response.data.message contains 'Codigo ya registrado'"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"*","index":7,"text":"def responseText = karate.pretty(response)"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"*","index":8,"text":"def isValid = schemaUtil.isValid(errorSchema, responseText)"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"*","index":9,"text":"match isValid == true"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":10,"text":"print 'Error por codigo duplicado:', response.data.message"}},{"result":{"nanos":0,"startTime":1755555850290,"endTime":1755555850290,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"And","index":11,"text":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'"}}],"line":61,"description":"","durationMillis":233.7984,"failed":true,"error":"status code was: 400, expected: 409, response time in milliseconds: 109, url: http:\/\/10.161.169.27:8517\/api\/v1\/estaciones, response: \n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\",\"errors\":[\"Cannot invoke \\\"String.split(String)\\\" because \\\"correlationId\\\" is null\"]},\"timestamp\":1755555850328}\nclasspath:api\/crearEstacion.feature:66","tags":["crearEstacion","estacionCodigoDuplicado"],"executorName":"main","name":"El endpoint debe rechazar cuando se envia un codigo de estacion ya existente","startTime":1755555850051,"refId":"[3:61]","endTime":1755555850290,"exampleIndex":-1}],"callDepth":0,"name":"Crear una nueva estacion mediante el endpoint POST \/estaciones","description":"","resultDate":"2025-08-18 06:24:10 p. m.","durationMillis":2171.3402,"passedCount":1}
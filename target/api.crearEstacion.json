[{"line":2,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure logPrettyResponse = false","result":{"duration":1339700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"keyword":"*","line":6},{"name":"configure logPrettyRequest = false","result":{"duration":238900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":46940600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }","result":{"duration":2336722800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"api\/loginToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url loginUrl","result":{"duration":2204600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"print loginUrl","result":{"duration":4083300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"10:24:36.595 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n","line":5}},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":6001100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')","result":{"duration":7731700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":678200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"request validBodyRequest","result":{"duration":178900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":12},{"name":"method POST","result":{"duration":1871020600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"10:24:36.965 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:38.475 response time in milliseconds: 1494\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\"}\n\n","line":13}},{"name":"status 200","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"match response.token == '#string'","result":{"duration":21981400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar que la respuesta contenga el campo token"],"keyword":"> And","line":17},{"name":"def responseText = karate.pretty(response)","result":{"duration":27509100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"keyword":"> *","line":20},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":371764500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match isValid == true","result":{"duration":795700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"result":{"duration":11244600,"status":"passed"},"comments":["# Tiempo de respuesta"],"line":25,"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'","match":{"location":"karate","arguments":[]},"keyword":"> And","doc_string":{"content_type":"","value":"10:24:38.915 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 1.494 s \n","line":25}},{"name":"def authToken = loginResponse.response.token","result":{"duration":960900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def headers = headersEstacionesConToken(authToken)","result":{"duration":3566100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"keyword":"*","line":13},{"name":"configure headers = headers","result":{"duration":129800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"print 'HEADERS usados en creacion de estacion:', headers","result":{"duration":1551300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15,"doc_string":{"content_type":"","value":"10:24:38.923 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\"\n}\n \n","line":15}},{"name":"print 'TOKEN obtenido:', authToken","result":{"duration":933000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"10:24:38.925 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2 \n","line":16}},{"name":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')","result":{"duration":10252600,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"keyword":"*","line":19},{"name":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')","result":{"duration":9577500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')","result":{"duration":10370900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')","result":{"duration":10024500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":756200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"keyword":"*","line":25},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')","result":{"duration":13028200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')","result":{"duration":9746900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27}]},{"start_timestamp":"2025-08-30T14:24:36.453Z","line":30,"name":"Crear estacion con datos validos","description":"","id":"crear-estacion-con-datos-validos","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":127700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Este escenario valida que el endpoint cree correctamente una estacion con datos completos y correctos"],"keyword":"Given","line":32},{"name":"request estacionValidaRequest","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"method POST","result":{"duration":1146019500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":34,"doc_string":{"content_type":"","value":"10:24:38.992 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6Ijk1MDBBMjg5QTY3MDU5MTg5NTQyMEE1QzAyMDAzMDI2Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODc3LCJleHAiOjE3NTY1Njc0Nzd9.qH3bnnUIVXNwTHYY4SauusXUX_cAhdQ0drvFaWONe3SomLWm6UhmUKTRdCDlMTB2\n1 > Content-Length: 900\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"ESTKRT\",\"nombre\":\"Estacion Central KARATE\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"1000\",\"descripcion\":\"Capacidad maxima de usuarios\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"4G\",\"descripcion\":\"Tecnologia disponible\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Principal\",\"piso\":\"1\",\"numero\":\"123\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Principal\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Secundaria\",\"puntoReferencia\":\"Frente al Parque Central\",\"codigoPostal\":\"1001\",\"ciudad\":\"Ciudad Capital\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion aprobada para operacion KARATE\",\"estatus\":1,\"createdBy\":\"E11011\"}\n\n10:24:40.136 response time in milliseconds: 1141\n1 < 404\n1 < content-length: 195\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\n\n","line":34}},{"name":"status 200","result":{"duration":6056500,"error_message":"status code was: 404, expected: 200, response time in milliseconds: 1141, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\nclasspath:api\/crearEstacion.feature:35","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":35,"doc_string":{"content_type":"","value":"10:24:40.140 classpath:api\/crearEstacion.feature:35\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 1141, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563880147}\nclasspath:api\/crearEstacion.feature:35\n","line":35}},{"name":"match response.success == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"match response.data.codigo == estacionValidaRequest.codigo","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"match response.data.nombre == estacionValidaRequest.nombre","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"def responseText = karate.pretty(response)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"match isValid == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"print 'Estacion creada exitosamente:', response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43}],"tags":[{"name":"@estacionValida","line":29},{"name":"@crearEstacion","line":1}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure logPrettyResponse = false","result":{"duration":313900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"keyword":"*","line":6},{"name":"configure logPrettyRequest = false","result":{"duration":115800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":914700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }","result":{"duration":495494400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"api\/loginToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url loginUrl","result":{"duration":71800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"print loginUrl","result":{"duration":788300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"10:24:40.156 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n","line":5}},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":638300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')","result":{"duration":1052800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":632500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"request validBodyRequest","result":{"duration":72500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":12},{"name":"method POST","result":{"duration":481515000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"10:24:40.162 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:40.644 response time in milliseconds: 482\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\"}\n\n","line":13}},{"name":"status 200","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"match response.token == '#string'","result":{"duration":646400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar que la respuesta contenga el campo token"],"keyword":"> And","line":17},{"name":"def responseText = karate.pretty(response)","result":{"duration":721400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"keyword":"> *","line":20},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":3458000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match isValid == true","result":{"duration":354400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"result":{"duration":576800,"status":"passed"},"comments":["# Tiempo de respuesta"],"line":25,"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'","match":{"location":"karate","arguments":[]},"keyword":"> And","doc_string":{"content_type":"","value":"10:24:40.652 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.482 s \n","line":25}},{"name":"def authToken = loginResponse.response.token","result":{"duration":203000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def headers = headersEstacionesConToken(authToken)","result":{"duration":637500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"keyword":"*","line":13},{"name":"configure headers = headers","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"print 'HEADERS usados en creacion de estacion:', headers","result":{"duration":479200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15,"doc_string":{"content_type":"","value":"10:24:40.654 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\"\n}\n \n","line":15}},{"name":"print 'TOKEN obtenido:', authToken","result":{"duration":314000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"10:24:40.654 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM \n","line":16}},{"name":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')","result":{"duration":689200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"keyword":"*","line":19},{"name":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')","result":{"duration":546300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')","result":{"duration":472900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')","result":{"duration":11357800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":732100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"keyword":"*","line":25},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')","result":{"duration":1212700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')","result":{"duration":676300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27}]},{"start_timestamp":"2025-08-30T14:24:40.151Z","line":46,"name":"El endpoint debe rechazar cuando se envian campos obligatorios vacios o nulos","description":"","id":"el-endpoint-debe-rechazar-cuando-se-envian-campos-obligatorios-vacios-o-nulos","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":76700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Este escenario usa un request con campos faltantes como codigo, nombre y direccion"],"keyword":"Given","line":48},{"name":"request camposFaltantesRequest","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49},{"name":"method POST","result":{"duration":537127100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":50,"doc_string":{"content_type":"","value":"10:24:40.671 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IkQwMEMyMjkxRDUzOEJBMDBCMjJEMzk4REY3M0NEM0YwIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgwLCJleHAiOjE3NTY1Njc0ODB9._z8KR8c41f2rva7CzbSukk_7I4B2wp6rJJac6FXqmgpAUEwSW6mYZBVJ3MszZIUM\n1 > Content-Length: 826\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"\",\"nombre\":null,\"regionId\":null,\"estadoId\":null,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"tipo\":\"CAPACIDAD\",\"valor\":\"800\",\"descripcion\":\"Capacidad media\"},{\"tipo\":\"TECNOLOGIA\",\"valor\":\"LTE\",\"descripcion\":\"Tecnologia intermedia\"}],\"direccion\":{\"conglomerado\":\"CENTRO\",\"nombreConglomerado\":\"Centro Comercial\",\"inmueble\":\"EDIFICIO\",\"nombreInmueble\":\"Torre Norte\",\"piso\":\"3\",\"numero\":\"456\",\"vialidad\":\"AVENIDA\",\"nombreVialidad\":\"Av. Norte\",\"vialidad2\":\"CALLE\",\"nombreVialidad2\":\"Calle Este\",\"puntoReferencia\":\"Diagonal al hospital\",\"codigoPostal\":\"1010\",\"ciudad\":\"Ciudad Norte\",\"parroquia\":\"Centro\",\"municipio\":\"Capital\",\"estado\":\"Distrito Capital\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"URBANA\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":1,\"comentAprobacion\":\"Estacion incompleta\",\"estatus\":1,\"createdBy\":\"E33033\"}\n\n10:24:41.205 response time in milliseconds: 534\n1 < 400\n1 < content-length: 882\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=9ebf70f993b47330852a058d80b6f286; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=9ebf70f993b47330852a058d80b6f286; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"create.request.nombre: El nombre de la estación es obligatorio, create.request.codigo: El código de la estación es obligatorio, create.request.regionId: El ID de la región es obligatorio, create.request.estadoId: El ID del estado es obligatorio\",\"errors\":[\"ve.com.telefonica.application.resources.StationController_Subclass create.request.nombre: El nombre de la estación es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.codigo: El código de la estación es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.regionId: El ID de la región es obligatorio\",\"ve.com.telefonica.application.resources.StationController_Subclass create.request.estadoId: El ID del estado es obligatorio\"]},\"timestamp\":1756563881215}\n\n","line":50}},{"name":"status 400","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":51},{"name":"match response.success == false","result":{"duration":1338100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"match response.data.code == \"400\"","result":{"duration":976300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53},{"name":"match response.data.status == \"BAD_REQUEST\"","result":{"duration":857800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":54},{"name":"match response.data.message contains \"must not be null\"","result":{"duration":1633400,"error_message":"match failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'create.request.nombre: El nombre de la estación es obligatorio, create.request.codigo: El código de la estación es obligatorio, create.request.regionId: El ID de la región es obligatorio, create.request.estadoId: El ID del estado es obligatorio'\n  'must not be null'\n\nclasspath:api\/crearEstacion.feature:55","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":55,"doc_string":{"content_type":"","value":"10:24:41.212 classpath:api\/crearEstacion.feature:55\nAnd match response.data.message contains \"must not be null\"\nmatch failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'create.request.nombre: El nombre de la estación es obligatorio, create.request.codigo: El código de la estación es obligatorio, create.request.regionId: El ID de la región es obligatorio, create.request.estadoId: El ID del estado es obligatorio'\n  'must not be null'\n\nclasspath:api\/crearEstacion.feature:55\n","line":55}},{"name":"match response.data.message contains \"must not be empty\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":56},{"name":"def responseText = karate.pretty(response)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57},{"name":"def isValid = schemaUtil.isValid(errorSchema, responseText)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":58},{"name":"match isValid == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"print 'Error de validacion de campos faltantes:', response.data.message","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":60},{"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":61}],"tags":[{"name":"@crearEstacion","line":1},{"name":"@estacionCamposFaltantes","line":45}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure logPrettyResponse = false","result":{"duration":153500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"keyword":"*","line":6},{"name":"configure logPrettyRequest = false","result":{"duration":99300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":1201100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }","result":{"duration":497938900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"api\/loginToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url loginUrl","result":{"duration":143000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"print loginUrl","result":{"duration":1368000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"10:24:41.228 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n","line":5}},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":372100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')","result":{"duration":1178000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":712800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"request validBodyRequest","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":12},{"name":"method POST","result":{"duration":480129200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"10:24:41.236 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:41.707 response time in milliseconds: 471\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\"}\n\n","line":13}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"match response.token == '#string'","result":{"duration":698400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar que la respuesta contenga el campo token"],"keyword":"> And","line":17},{"name":"def responseText = karate.pretty(response)","result":{"duration":843500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"keyword":"> *","line":20},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":3642400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match isValid == true","result":{"duration":404200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"result":{"duration":727700,"status":"passed"},"comments":["# Tiempo de respuesta"],"line":25,"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'","match":{"location":"karate","arguments":[]},"keyword":"> And","doc_string":{"content_type":"","value":"10:24:41.721 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.471 s \n","line":25}},{"name":"def authToken = loginResponse.response.token","result":{"duration":363100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def headers = headersEstacionesConToken(authToken)","result":{"duration":564700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"keyword":"*","line":13},{"name":"configure headers = headers","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"print 'HEADERS usados en creacion de estacion:', headers","result":{"duration":613000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15,"doc_string":{"content_type":"","value":"10:24:41.724 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\"\n}\n \n","line":15}},{"name":"print 'TOKEN obtenido:', authToken","result":{"duration":554000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"10:24:41.724 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC \n","line":16}},{"name":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')","result":{"duration":839600,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"keyword":"*","line":19},{"name":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')","result":{"duration":793800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')","result":{"duration":638500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')","result":{"duration":376500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"keyword":"*","line":25},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')","result":{"duration":235700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')","result":{"duration":218200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27}]},{"start_timestamp":"2025-08-30T14:24:41.216Z","line":64,"name":"El endpoint debe rechazar cuando se envia un codigo de estacion ya existente","description":"","id":"el-endpoint-debe-rechazar-cuando-se-envia-un-codigo-de-estacion-ya-existente","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"keyword":"Given","line":66},{"name":"request clusterEnCeroRequest","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":67},{"name":"method POST","result":{"duration":16023483200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":68,"doc_string":{"content_type":"","value":"10:24:41.727 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRDQzMyQjA4NUY4NTkxNjkyMDEzM0UyRDU1NEI5N0VBIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODgxLCJleHAiOjE3NTY1Njc0ODF9.qYfeKT5okrodb9owTx8AGDT3Tr4agcC8CeF05TREBxFgjKobvxByfUknC0en2hWC\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":1,\"clusterId\":0,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:24:57.750 response time in milliseconds: 16023\n1 < 400\n1 < content-length: 531\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"Multiple exceptions caught:\\n\\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\\n\\t[Exception 1] java.lang.RuntimeException: ConnectException %s\",\"errors\":[\"Multiple exceptions caught:\\n\\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\\n\\t[Exception 1] java.lang.RuntimeException: ConnectException %s\"]},\"timestamp\":1756563897764}\n\n","line":68}},{"name":"status 400","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":69},{"name":"match response.success == false","result":{"duration":289500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":70},{"name":"match response.data.code == \"400\"","result":{"duration":180400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":71},{"name":"def responseText = karate.pretty(response)","result":{"duration":1570400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":72},{"name":"def isValid = schemaUtil.isValid(errorSchema, responseText)","result":{"duration":6075900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":73},{"name":"match isValid == true","result":{"duration":202700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":74},{"name":"print 'Error creando estacion con cluster en 0:', response.data.message","result":{"duration":845900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":75,"doc_string":{"content_type":"","value":"10:24:57.755 [print] Error creando estacion con cluster en 0: Multiple exceptions caught:\n\t[Exception 0] io.netty.channel.ConnectTimeoutException: connection timed out after 15000 ms: \/10.161.169.27:8513\n\t[Exception 1] java.lang.RuntimeException: ConnectException %s \n","line":75}},{"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'","result":{"duration":755600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":76,"doc_string":{"content_type":"","value":"10:24:57.755 [print] === TIEMPO DE RESPUESTA DEL FEATURE === 16.023 s \n","line":76}}],"tags":[{"name":"@clusterEnCeroRequest","line":63},{"name":"@crearEstacion","line":1}]},{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure logPrettyResponse = false","result":{"duration":154800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"keyword":"*","line":6},{"name":"configure logPrettyRequest = false","result":{"duration":100400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":700600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }","result":{"duration":520455800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"api\/loginToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url loginUrl","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"print loginUrl","result":{"duration":427800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"10:24:57.770 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n","line":5}},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":183200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')","result":{"duration":430300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":411300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"request validBodyRequest","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":12},{"name":"method POST","result":{"duration":503541200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"10:24:57.770 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:24:58.265 response time in milliseconds: 495\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\"}\n\n","line":13}},{"name":"status 200","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"match response.token == '#string'","result":{"duration":681100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar que la respuesta contenga el campo token"],"keyword":"> And","line":17},{"name":"def responseText = karate.pretty(response)","result":{"duration":807300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"keyword":"> *","line":20},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":7372600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match isValid == true","result":{"duration":612900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"result":{"duration":1522200,"status":"passed"},"comments":["# Tiempo de respuesta"],"line":25,"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'","match":{"location":"karate","arguments":[]},"keyword":"> And","doc_string":{"content_type":"","value":"10:24:58.276 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.495 s \n","line":25}},{"name":"def authToken = loginResponse.response.token","result":{"duration":360500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def headers = headersEstacionesConToken(authToken)","result":{"duration":703200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"keyword":"*","line":13},{"name":"configure headers = headers","result":{"duration":103900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"print 'HEADERS usados en creacion de estacion:', headers","result":{"duration":885400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15,"doc_string":{"content_type":"","value":"10:24:58.276 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\"\n}\n \n","line":15}},{"name":"print 'TOKEN obtenido:', authToken","result":{"duration":464300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"10:24:58.276 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq \n","line":16}},{"name":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')","result":{"duration":1765800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"keyword":"*","line":19},{"name":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')","result":{"duration":1629500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')","result":{"duration":1567800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')","result":{"duration":1390000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":253500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"keyword":"*","line":25},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')","result":{"duration":393000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')","result":{"duration":352400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27}]},{"start_timestamp":"2025-08-30T14:24:57.765Z","line":79,"name":"El endpoint debe rechazar cuando se envia un id de mercado en cero","description":"","id":"el-endpoint-debe-rechazar-cuando-se-envia-un-id-de-mercado-en-cero","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"keyword":"Given","line":81},{"name":"request mercadoIdEnCeroRequest","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":82},{"name":"method POST","result":{"duration":1007130800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":83,"doc_string":{"content_type":"","value":"10:24:58.298 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjRCNUIyMTA0NDNDRkZBMTk5RTQxQzg2ODU3QTAzMjVGIiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NTYzODk4LCJleHAiOjE3NTY1Njc0OTh9.1eBa5SQRKq-EpKgMNiZWJPh2FLQ3Q4rZpo254cXDAMXalcPKz9T3nHESX_-eF0Yq\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":0,\"clusterId\":1,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:24:59.300 response time in milliseconds: 1002\n1 < 404\n1 < content-length: 195\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=126a0d116249904aeec188af06a28666; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\n\n","line":83}},{"name":"status 400","result":{"duration":52200,"error_message":"status code was: 404, expected: 400, response time in milliseconds: 1002, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\nclasspath:api\/crearEstacion.feature:84","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":84,"doc_string":{"content_type":"","value":"10:24:59.300 classpath:api\/crearEstacion.feature:84\nThen status 400\nstatus code was: 404, expected: 400, response time in milliseconds: 1002, url: http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/, response: \n{\"success\":false,\"data\":{\"code\":\"404\",\"status\":\"NOT_FOUND\",\"message\":\"NOT_FOUND: RefCluster with ID 1 not found\",\"errors\":[\"NOT_FOUND: RefCluster with ID 1 not found\"]},\"timestamp\":1756563899320}\nclasspath:api\/crearEstacion.feature:84\n","line":84}},{"name":"match response.success == false","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":85},{"name":"match response.data.code == \"400\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":86},{"name":"def responseText = karate.pretty(response)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":87},{"name":"def isValid = schemaUtil.isValid(errorSchema, responseText)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":88},{"name":"match isValid == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":89},{"name":"print 'Error creando estacion con id de Mercado en 0:', response.data.message","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":90},{"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":91}],"tags":[{"name":"@crearEstacion","line":1},{"name":"@mercadoIdEnCeroRequest","line":78}]}],"name":"api\/crearEstacion.feature","description":"Crear una nueva estacion mediante el endpoint POST \/estaciones","id":"crear-una-nueva-estacion-mediante-el-endpoint-post--estaciones","keyword":"Feature","uri":"api\/crearEstacion.feature","tags":[{"name":"@crearEstacion","line":1}]}]
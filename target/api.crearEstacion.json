[{"line":2,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure logPrettyResponse = false","result":{"duration":1471400,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 1. LLAMANDO AL SERVICIO AUTHTOKEN PARA HACER LOGIN Y OBTENER EL TOKEN"],"keyword":"*","line":6},{"name":"configure logPrettyRequest = false","result":{"duration":349400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":31669800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginResponse = call read('classpath:api\/loginToken.feature') { request: validBodyRequest }","result":{"duration":1474391500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"api\/loginToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url loginUrl","result":{"duration":706500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"print loginUrl","result":{"duration":3484600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"10:42:37.100 [print] http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin \n","line":5}},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":5824400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_loginToken.json')","result":{"duration":1919300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def validBodyRequest = read('classpath:JsonRequest\/loginTokenRequest.json')","result":{"duration":770600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"request validBodyRequest","result":{"duration":213400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":12},{"name":"method POST","result":{"duration":1080045000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"10:42:37.373 request:\n1 > POST http:\/\/ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/intraLogin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: ms-auth-oss-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"login\":\"tns01\",\"clave\":\"T3st2024.+-\"}\n\n10:42:38.184 response time in milliseconds: 800\n1 < 200\n1 < content-type: application\/json\n1 < content-length: 326\n1 < set-cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n1 < Set-Cookie: 346a326bcc8fc21fd3f034fd94d160bb=b93258c5db05ebda8c79fad18868405b; path=\/; HttpOnly\n{\"token\":\"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\"}\n\n","line":13}},{"name":"status 200","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"match response.token == '#string'","result":{"duration":36163200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar que la respuesta contenga el campo token"],"keyword":"> And","line":17},{"name":"def responseText = karate.pretty(response)","result":{"duration":54160800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Validar la estructura completa de la respuesta usando el schema JSON"],"keyword":"> *","line":20},{"name":"def isValid = schemaUtil.isValid(schemaText, responseText)","result":{"duration":269935100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match isValid == true","result":{"duration":838900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"result":{"duration":7681200,"status":"passed"},"comments":["# Tiempo de respuesta"],"line":25,"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE loginToken ===', responseTime \/ 1000, 's'","match":{"location":"karate","arguments":[]},"keyword":"> And","doc_string":{"content_type":"","value":"10:42:38.559 [print] === TIEMPO DE RESPUESTA DEL FEATURE loginToken === 0.8 s \n","line":25}},{"name":"def authToken = loginResponse.response.token","result":{"duration":621600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def headers = headersEstacionesConToken(authToken)","result":{"duration":2167800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 2. CONFIGURANDO HEADERS PARA ESTACIONES"],"keyword":"*","line":13},{"name":"configure headers = headers","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"print 'HEADERS usados en creacion de estacion:', headers","result":{"duration":1001300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15,"doc_string":{"content_type":"","value":"10:42:38.559 [print] HEADERS usados en creacion de estacion: {\n  \"Content-Type\": \"application\/json\",\n  \"X-USER-ID\": \"E11011\",\n  \"X-CORRELATION-ID\": \"1445|E11011|234234\",\n  \"X-TOKEN-ID\": \"eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\"\n}\n \n","line":15}},{"name":"print 'TOKEN obtenido:', authToken","result":{"duration":563200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"10:42:38.559 [print] TOKEN obtenido: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ \n","line":16}},{"name":"def estacionValidaRequest = read('classpath:JsonRequest\/estacionValidaRequest.json')","result":{"duration":972700,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 3. CARGANDO (REQUEST) CON DATOS DE PRUEBA"],"keyword":"*","line":19},{"name":"def clusterEnCeroRequest = read('classpath:JsonRequest\/clusterEnCeroRequest.json')","result":{"duration":869200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"def camposFaltantesRequest = read('classpath:JsonRequest\/camposFaltantesRequest.json')","result":{"duration":881400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"def mercadoIdEnCeroRequest = read('classpath:JsonRequest\/mercadoIdEnCeroRequest.json')","result":{"duration":10863200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"def schemaUtil = Java.type('util.JsonSchemaUtil')","result":{"duration":710000,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# 4. CONFIGURANDO VALIDACION DE SCHEMA"],"keyword":"*","line":25},{"name":"def schemaText = karate.readAsString('classpath:Schema\/sc_crearEstacion.json')","result":{"duration":847500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def errorSchema = karate.readAsString('classpath:Schema\/sc_errorResponse.json')","result":{"duration":1030800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27}]},{"start_timestamp":"2025-08-29T14:42:36.994Z","line":79,"name":"El endpoint debe rechazar cuando se envia un id de mercado en cero","description":"","id":"el-endpoint-debe-rechazar-cuando-se-envia-un-id-de-mercado-en-cero","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":85100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Este escenario usa el mismo codigo que una estacion ya registrada para simular duplicidad"],"keyword":"Given","line":81},{"name":"request mercadoIdEnCeroRequest","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":82},{"name":"method POST","result":{"duration":894463900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":83,"doc_string":{"content_type":"","value":"10:42:38.586 request:\n1 > POST http:\/\/estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\/api\/v1\/estaciones\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-USER-ID: E11011\n1 > X-CORRELATION-ID: 1445|E11011|234234\n1 > X-TOKEN-ID: eyJhbGciOiJIUzM4NCJ9.eyJjb2RFbXBsb3llZSI6IjE0OTFFRTZGREVDNjc1NTVEODdGM0I5RjcxOTdCRjk4Iiwic3ViIjoiZGVmYXVsdC1zdWJqZWN0IiwiaXNzIjoiZGVmYXVsdC1pc3N1ZXIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkZWZhdWx0LXVzZXJuYW1lIiwiaWF0IjoxNzU2NDc4NTU3LCJleHAiOjE3NTY0ODIxNTd9.UPRH8lS0vehi5LU2ObGZ-WqAcg9SWIU8hHFD4kQaLpcaseTANT9iSxrKJ1lAEqnJ\n1 > Content-Length: 813\n1 > Host: estaciones-bff-git-dev-front-oss.apps.tmve-nprod-1.tmve-qa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"codigo\":\"krt60\",\"nombre\":\"Estacion Movistar krt\",\"regionId\":1,\"estadoId\":1,\"municipioId\":1,\"parroquiaId\":1,\"atributos\":[{\"Estacion Prueba1\":\"Prueba1\",\"Estacion Prueba2\":\"Prueba2\",\"Estacion Prueba3\":\"Prueba3\"}],\"direccion\":{\"conglomerado\":\"conglomerado\",\"nombreConglomerado\":\"nombreConglomerado\",\"inmueble\":\"inmueble\",\"nombreInmueble\":\"nombreInmueble\",\"piso\":\"1\",\"numero\":\"1\",\"vialidad\":\"7\",\"nombreVialidad\":\"nombreVialidad\",\"vialidad2\":\"vialidad2\",\"nombreVialidad2\":\"nombreVialidad2\",\"puntoReferencia\":\"puntoReferencia\",\"codigoPostal\":\"codigoPostal\",\"ciudad\":\"ciudad\",\"parroquia\":\"parroquia\",\"municipio\":\"municipio\",\"estado\":\"estado\",\"pais\":\"Venezuela\",\"tipoUbicacion\":\"tipoUbicacion\"},\"codigoPais\":\"VE\",\"mercadoId\":0,\"clusterId\":1,\"comentAprobacion\":\"Prueba krt\",\"tmveOwner\":true,\"estatus\":0,\"createdBy\":\"krt\"}\n\n10:42:39.477 response time in milliseconds: 888\n1 < 400\n1 < content-length: 302\n1 < content-type: application\/json\n1 < set-cookie: 7ebc866ebb4d2d727ca53353a6c0c030=734d6df9d2a531f96603fab754c67099; path=\/; HttpOnly\n1 < Set-Cookie: 7ebc866ebb4d2d727ca53353a6c0c030=734d6df9d2a531f96603fab754c67099; path=\/; HttpOnly\n{\"success\":false,\"data\":{\"code\":\"400\",\"status\":\"BAD_REQUEST\",\"message\":\"create.request.mercadoId: must be greater than or equal to 1\",\"errors\":[\"ve.com.telefonica.application.resources.StationController_Subclass create.request.mercadoId: must be greater than or equal to 1\"]},\"timestamp\":1756478559290}\n\n","line":83}},{"name":"status 400","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":84},{"name":"match response.success == false","result":{"duration":1515000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":85},{"name":"match response.data.code == \"400\"","result":{"duration":1202800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":86},{"name":"def responseText = karate.pretty(response)","result":{"duration":3646500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":87},{"name":"def isValid = schemaUtil.isValid(errorSchema, responseText)","result":{"duration":16515000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":88},{"name":"match isValid == true","result":{"duration":933700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":89},{"name":"print 'Error creando estacion con id de Mercado en 0:', response.data.message","result":{"duration":1217100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":90,"doc_string":{"content_type":"","value":"10:42:39.501 [print] Error creando estacion con id de Mercado en 0: create.request.mercadoId: must be greater than or equal to 1 \n","line":90}},{"name":"print '=== TIEMPO DE RESPUESTA DEL FEATURE ===', responseTime \/ 1000, 's'","result":{"duration":1092500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":91,"doc_string":{"content_type":"","value":"10:42:39.501 [print] === TIEMPO DE RESPUESTA DEL FEATURE === 0.888 s \n","line":91}}],"tags":[{"name":"@crearEstacion","line":1},{"name":"@mercadoIdEnCeroRequest","line":78}]}],"name":"api\/crearEstacion.feature","description":"Crear una nueva estacion mediante el endpoint POST \/estaciones","id":"crear-una-nueva-estacion-mediante-el-endpoint-post--estaciones","keyword":"Feature","uri":"api\/crearEstacion.feature","tags":[{"name":"@crearEstacion","line":1}]}]